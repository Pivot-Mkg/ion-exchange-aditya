<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ion Exchange – Refreshing the Planet</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./custom.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <script>
$(document).ready(function () {
    // Initially hide all accordion content
    $(".custom-accordion-content").hide();
    $(".custom-accordion-content").first().show()

    // Handle click event on accordion label
    $(".custom-accordion-label").on("click", function () {
        var content = $(this).next(".custom-accordion-content");

        // If the clicked accordion content is already visible, keep it open and remove the active class
        if (content.is(":visible")) {
            // content.slideUp(); // Close the content
            // Do not remove the active class from the label
        } else {
            // Close all other accordion contents
            $(".custom-accordion-content").slideUp(); 
            $(".custom-accordion-label").removeClass("custom-accordion-label-active"); // Remove active class from all labels

            // Open the clicked accordion
            content.slideDown();
            $(this).addClass("custom-accordion-label-active"); // Add active class to the clicked label
        }
    });
});



    </script>
</head>

<body>


    <section class="case-study-section">
        <div class="container">
            <div class="section-header">
                <h1 class="section-header-title">Case Studies</h1>
            </div>
            <div class="featured-case-study-card-wrapper">
                <figure class="featured-case-studies">
                    <div class="img-wrapper">
                        <img width="100%" src="./assets/images/case-study-default.png" alt="" srcset="">
                    </div>
                    <figcaption class="featured-case-studies-caption">
                        <!-- Case Study 1 -->
                        <div class="custom-accordion">
                            <label for="caseStudy1" class="custom-accordion-label custom-accordion-label-active">
                                <h1>Engineering a Sustainable Tomorrow</h1>
                            </label>
                            <div class="custom-accordion-content custom-accordion-content-active" id="caseStudy1">
                                <p>
                                    We are committed to developing innovative solutions that not only meet our clients'
                                    needs but also protect our planet's most valuable resource. Our sustainability goals
                                    are at the core of everything we do, from reducing water consumption to minimizing
                                    environmental impact.
                                </p>
                                <ul>
                                    <li>Promoting Water Reuse and Recycling</li>
                                    <li>Increasing Energy Efficiency in Operations</li>
                                    <li>Developing Eco-Friendly Chemical Alternatives</li>
                                </ul>
                            </div>
                        </div>
                        <!-- Case Study 2 -->
                        <div class="custom-accordion">
                            <label for="caseStudy2" class="custom-accordion-label">
                                <h1>Dye Industry Case Study</h1>
                            </label>
                            <div class="custom-accordion-content" id="caseStudy2">
                                <p>
                                    We are committed to developing innovative solutions that not only meet our clients'
                                    needs but also protect our planet's most valuable resource. Our sustainability goals
                                    are at the core of everything we do, from reducing water consumption to minimizing
                                    environmental impact.
                                </p>
                                <ul>
                                    <li>Promoting Water Reuse and Recycling</li>
                                    <li>Increasing Energy Efficiency in Operations</li>
                                    <li>Developing Eco-Friendly Chemical Alternatives</li>
                                </ul>
                            </div>
                        </div>
                        <!-- Case Study 3 -->
                        <div class="custom-accordion">
                            <label for="caseStudy2" class="custom-accordion-label">
                                <h1>
                                    Electronics Case Study
                                </h1>
                            </label>
                            <div class="custom-accordion-content" id="caseStudy2">
                                <p>
                                    We are committed to developing innovative solutions that not only meet our clients'
                                    needs but also protect our planet's most valuable resource. Our sustainability goals
                                    are at the core of everything we do, from reducing water consumption to minimizing
                                    environmental impact.
                                </p>
                                <ul>
                                    <li>Promoting Water Reuse and Recycling</li>
                                    <li>Increasing Energy Efficiency in Operations</li>
                                    <li>Developing Eco-Friendly Chemical Alternatives</li>
                                </ul>
                            </div>
                        </div>
                        <!-- Case Study 4 -->
                        <div class="custom-accordion">
                            <label for="caseStudy2" class="custom-accordion-label">
                                <h1>
                                    Chemical Case Study
                                </h1>
                            </label>
                            <div class="custom-accordion-content" id="caseStudy2">
                                <p>
                                    We are committed to developing innovative solutions that not only meet our clients'
                                    needs but also protect our planet's most valuable resource. Our sustainability goals
                                    are at the core of everything we do, from reducing water consumption to minimizing
                                    environmental impact.
                                </p>
                                <ul>
                                    <li>Promoting Water Reuse and Recycling</li>
                                    <li>Increasing Energy Efficiency in Operations</li>
                                    <li>Developing Eco-Friendly Chemical Alternatives</li>
                                </ul>
                            </div>
                        </div>
                    </figcaption>
                </figure>
            </div>

        </div>
    </section>





    <script>
        const tabButtons = document.querySelectorAll(".ps-tab");
        const dynamicBox = document.getElementById("dynamicContent");
        const dynamicImage = document.getElementById("dynamicImage");

        const contentData = {
            eng: {
                title: "Engineering Solutions ↓",
                desc: `Ion Exchange provides complete water and wastewater treatment solutions,
               including desalination, reuse, and waste-to-energy.`,
                list: [
                    "Water Treatment",
                    "Waste Water Treatment",
                    "Solid waste",
                    "Process separation & Purification",
                    "3D Modelling"
                ],
                img: "./assets/images/product-and-solution-1-img.png"
            },
            resins: {
                title: "Resins ↓",
                desc: "High-quality resins designed for ion exchange applications.",
                list: [
                    "Cation Exchange Resins",
                    "Anion Exchange Resins",
                    "Mixed Bed Resins",
                    "Speciality Grade Resins"
                ],
                img: "./assets/images/product-and-solution-1-img.png"
            },
            membranes: {
                title: "Membranes ↓",
                desc: "Membrane technologies for RO, UF, NF and MF applications.",
                list: [
                    "Reverse Osmosis",
                    "Ultrafiltration",
                    "Nanofiltration",
                    "Microfiltration"
                ],
                img: "./assets/images/product-and-solution-1-img.png"
            },
            chemicals: {
                title: "Speciality Chemicals ↓",
                desc: "Speciality chemicals for purification, conditioning and system health.",
                list: [
                    "Coagulants",
                    "Flocculants",
                    "Descalants",
                    "Biocides"
                ],
                img: "./assets/images/product-and-solution-1-img.png"
            },
            automation: {
                title: "Instruments & Automation ↓",
                desc: "Smart automation and monitoring systems.",
                list: [
                    "Online Water Analysers",
                    "PLC & SCADA Systems",
                    "Flow & Pressure Instruments",
                    "Automation Panels"
                ],
                img: "./assets/images/product-and-solution-1-img.png"
            }
        };

        tabButtons.forEach(btn => {
            btn.addEventListener("click", () => {
                // Make clicked tab active
                tabButtons.forEach(t => t.classList.remove("active"));
                btn.classList.add("active");

                const c = contentData[btn.dataset.tab];

                // Fade OUT both boxes
                dynamicBox.style.opacity = 0;
                dynamicImage.style.opacity = 0;

                setTimeout(() => {
                    // Update LEFT content
                    dynamicBox.innerHTML = `
                <h3 class="ps-heading">${c.title}</h3>
                <p class="ps-desc">${c.desc}</p>
                <div class="ps-list">
                    ${c.list.map(item => `<a href="#" class="ps-link">${item}</a>`).join("")}
                </div>
            `;

                    // Update RIGHT image ONLY after fade-out completes
                    dynamicImage.onload = () => {
                        dynamicImage.style.opacity = 1;   // fade-in AFTER loading
                    };
                    dynamicImage.src = c.img;

                    // Fade LEFT content in
                    dynamicBox.style.opacity = 1;

                }, 300);
            });
        });
    </script>


    <script>
        const counters = document.querySelectorAll(".counter");

        // Function to detect when the section is in view
        function isInViewport(el) {
            const rect = el.getBoundingClientRect();
            return rect.top >= 0 && rect.bottom <= window.innerHeight;
        }

        function animateCounter() {
            counters.forEach(counter => {
                if (isInViewport(counter)) {
                    const target = Number(counter.getAttribute("data-target"));
                    const duration = 5000; // total animation time in ms (slower)
                    const startTime = performance.now();

                    function update(now) {
                        const elapsed = now - startTime;
                        const progress = Math.min(elapsed / duration, 1);
                        const current = Math.floor(target * progress);

                        // format with commas (10,000, 1,000 etc.)
                        counter.textContent = current.toLocaleString();

                        if (progress < 1) {
                            requestAnimationFrame(update);
                        }
                    }

                    requestAnimationFrame(update);
                }
            });
        }

        // Trigger the animation when the section comes into view
        window.addEventListener("scroll", animateCounter);

        // Trigger the animation when the page loads if the section is already in view
        window.addEventListener("load", animateCounter);
    </script>


    <script>
        document.querySelector(".play-button").addEventListener("click", function () {
            window.location.href = "/assets/images/34097.jpg";  // or trigger modal
        });
    </script>
</body>

</html>